{"ast":null,"code":"import _slicedToArray from\"/Users/rodericcoscolluela/Documents/password-manager/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import SearchDropdown from\"./SearchDropdown\";import{useNavigate}from\"react-router-dom\";import NewPage from\"./ResultsPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForm=function SearchForm(_ref){var searchArray=_ref.searchArray,currentSearchValue=_ref.currentSearchValue,setCurrentSearchValue=_ref.setCurrentSearchValue,searchName=_ref.searchName,setSearchName=_ref.setSearchName,averagesArray=_ref.averagesArray;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchFound=_useState4[0],setSearchFound=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var className=\"search-dropdown-container\";var queryHandler=function queryHandler(e){setCurrentSearchValue(e.target.value);setQuery(e.target.value);setSearchName(e.target.value);if(e.target.value===\"\"){setSearchFound(\"\");}};var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),active=_useState8[0],setActive=_useState8[1];var navigate=useNavigate();var searchHandler=function searchHandler(e){e.preventDefault();var input=document.getElementById(\"search-form\");input[0].value=\"\";if(averagesArray.some(function(entry){return entry.average_title.toString().toLowerCase()===query.toLowerCase();})||averagesArray.some(function(entry){return entry.average_name.toLowerCase()===query.toLowerCase();})||averagesArray.some(function(entry){return entry.average_number.toString()===query.toString();})){setSearchFound(\"\");navigate(\"/search/\".concat(searchName));}else{setSearchFound(\"Sorry, course not found. Add a course by submitting a review.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-search\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"search-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search-bar\",children:\"Search for a course\"}),/*#__PURE__*/_jsx(\"input\",{onChange:queryHandler,id:\"search-bar\",className:\"input\",placeholder:\"e.g. \\\"MACM 201\\\", \\\"MACM\\\", or \\\"201\\\"\"}),/*#__PURE__*/_jsx(\"button\",{onClick:searchHandler,className:\"search-button btn\",children:\"Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"search-error\",children:searchFound})]})});};export default SearchForm;","map":{"version":3,"sources":["/Users/rodericcoscolluela/Documents/password-manager/client/src/components/SearchForm.js"],"names":["React","useState","useEffect","SearchDropdown","useNavigate","NewPage","SearchForm","searchArray","currentSearchValue","setCurrentSearchValue","searchName","setSearchName","averagesArray","query","setQuery","searchFound","setSearchFound","index","setIndex","className","queryHandler","e","target","value","active","setActive","navigate","searchHandler","preventDefault","input","document","getElementById","some","entry","average_title","toString","toLowerCase","average_name","average_number"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAOb,IANJC,CAAAA,WAMI,MANJA,WAMI,CALJC,kBAKI,MALJA,kBAKI,CAJJC,qBAII,MAJJA,qBAII,CAHJC,UAGI,MAHJA,UAGI,CAFJC,aAEI,MAFJA,aAEI,CADJC,aACI,MADJA,aACI,CACJ,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAsCb,QAAQ,CAAC,EAAD,CAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eACA,eAA0Bf,QAAQ,EAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eACA,GAAIC,CAAAA,SAAS,CAAG,2BAAhB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BZ,qBAAqB,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,CACAT,QAAQ,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACAZ,aAAa,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CAEA,GAAIF,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACzBP,cAAc,CAAC,EAAD,CAAd,CACD,CACF,CARD,CAUA,eAA4Bf,QAAQ,CAAC,CAAD,CAApC,yCAAOuB,MAAP,eAAeC,SAAf,eAEA,GAAMC,CAAAA,QAAQ,CAAGtB,WAAW,EAA5B,CACA,GAAMuB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACN,CAAD,CAAO,CAC3BA,CAAC,CAACO,cAAF,GACA,GAAIC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAZ,CACAF,KAAK,CAAC,CAAD,CAAL,CAASN,KAAT,CAAiB,EAAjB,CACA,GACEX,aAAa,CAACoB,IAAd,CACE,SAACC,KAAD,QACEA,CAAAA,KAAK,CAACC,aAAN,CAAoBC,QAApB,GAA+BC,WAA/B,KACAvB,KAAK,CAACuB,WAAN,EAFF,EADF,GAKAxB,aAAa,CAACoB,IAAd,CACE,SAACC,KAAD,QACEA,CAAAA,KAAK,CAACI,YAAN,CAAmBD,WAAnB,KAAqCvB,KAAK,CAACuB,WAAN,EADvC,EADF,CALA,EASAxB,aAAa,CAACoB,IAAd,CAAmB,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACK,cAAN,CAAqBH,QAArB,KAAoCtB,KAAK,CAACsB,QAAN,EAA/C,EAAnB,CAVF,CAWE,CACAnB,cAAc,CAAC,EAAD,CAAd,CACAU,QAAQ,mBAAYhB,UAAZ,EAAR,CACD,CAdD,IAcO,CACLM,cAAc,CACZ,+DADY,CAAd,CAGD,CACF,CAvBD,CAwBA,mBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,cAAM,EAAE,CAAC,aAAT,wBACE,cAAO,OAAO,CAAC,YAAf,iCADF,cAEE,cACE,QAAQ,CAAEI,YADZ,CAEE,EAAE,CAAC,YAFL,CAGE,SAAS,CAAC,OAHZ,CAIE,WAAW,CAAC,yCAJd,EAFF,cAQE,eAAQ,OAAO,CAAEO,aAAjB,CAAgC,SAAS,CAAC,mBAA1C,oBARF,cAWE,UAAG,SAAS,CAAC,cAAb,UAA6BZ,WAA7B,EAXF,GADF,EADF,CAiBD,CAnED,CAqEA,cAAeT,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchDropdown from \"./SearchDropdown\";\nimport { useNavigate } from \"react-router-dom\";\nimport NewPage from \"./ResultsPage\";\n\nconst SearchForm = ({\n  searchArray,\n  currentSearchValue,\n  setCurrentSearchValue,\n  searchName,\n  setSearchName,\n  averagesArray\n}) => {\n  const [query, setQuery] = useState(\"\");\n  const [searchFound, setSearchFound] = useState(\"\");\n  const [index, setIndex] = useState();\n  let className = \"search-dropdown-container\";\n\n  const queryHandler = (e) => {\n    setCurrentSearchValue(e.target.value);\n    setQuery(e.target.value);\n    setSearchName(e.target.value);\n\n    if (e.target.value === \"\") {\n      setSearchFound(\"\");\n    }\n  };\n\n  const [active, setActive] = useState(0);\n\n  const navigate = useNavigate();\n  const searchHandler = (e) => {\n    e.preventDefault();\n    let input = document.getElementById(\"search-form\");\n    input[0].value = \"\";\n    if (\n      averagesArray.some(\n        (entry) =>\n          entry.average_title.toString().toLowerCase() ===\n          query.toLowerCase()\n      ) ||\n      averagesArray.some(\n        (entry) =>\n          entry.average_name.toLowerCase() === query.toLowerCase()\n      ) ||\n      averagesArray.some((entry) => entry.average_number.toString() === query.toString())\n    ) {\n      setSearchFound(\"\");\n      navigate(`/search/${searchName}`);\n    } else {\n      setSearchFound(\n        \"Sorry, course not found. Add a course by submitting a review.\"\n      );\n    }\n  };\n  return (\n    <div className=\"dashboard-search\">\n      <form id=\"search-form\">\n        <label htmlFor=\"search-bar\">Search for a course</label>\n        <input\n          onChange={queryHandler}\n          id=\"search-bar\"\n          className=\"input\"\n          placeholder='e.g. \"MACM 201\", \"MACM\", or \"201\"'\n        ></input>\n        <button onClick={searchHandler} className=\"search-button btn\">\n          Search\n        </button>\n        <p className=\"search-error\">{searchFound}</p>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}