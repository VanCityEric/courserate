{"ast":null,"code":"import _slicedToArray from\"D:/Coding/CourseRate/course-rate/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForm=function SearchForm(_ref){var setCurrentSearchValue=_ref.setCurrentSearchValue,searchName=_ref.searchName,setSearchName=_ref.setSearchName,averagesArray=_ref.averagesArray;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchFound=_useState4[0],setSearchFound=_useState4[1];var queryHandler=function queryHandler(e){setCurrentSearchValue(e.target.value);setQuery(e.target.value);setSearchName(e.target.value);if(e.target.value===\"\"){setSearchFound(\"\");}};var navigate=useNavigate();var searchHandler=function searchHandler(e){e.preventDefault();var input=document.getElementById(\"search-form\");input[0].value=\"\";if(averagesArray.some(function(entry){return entry.average_title.toString().toLowerCase()===query.toLowerCase();})||averagesArray.some(function(entry){return entry.average_name.toLowerCase()===query.toLowerCase();})||averagesArray.some(function(entry){return entry.average_number.toString()===query.toString();})){setSearchFound(\"\");navigate(\"/search/\".concat(searchName));}else{setSearchFound(\"Sorry, course not found. Add a course by submitting a review.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-search\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"search-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search-bar\",children:\"Search for a course\"}),/*#__PURE__*/_jsx(\"input\",{onChange:queryHandler,id:\"search-bar\",className:\"input\",placeholder:\"e.g. \\\"MACM 201\\\", \\\"MACM\\\", or \\\"201\\\"\"}),/*#__PURE__*/_jsx(\"button\",{onClick:searchHandler,className:\"search-button btn\",children:\"Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"search-error\",children:searchFound})]})});};export default SearchForm;","map":{"version":3,"sources":["D:/Coding/CourseRate/course-rate/client/src/components/SearchForm.js"],"names":["React","useState","useNavigate","SearchForm","setCurrentSearchValue","searchName","setSearchName","averagesArray","query","setQuery","searchFound","setSearchFound","queryHandler","e","target","value","navigate","searchHandler","preventDefault","input","document","getElementById","some","entry","average_title","toString","toLowerCase","average_name","average_number"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAKb,IAJJC,CAAAA,qBAII,MAJJA,qBAII,CAHJC,UAGI,MAHJA,UAGI,CAFJC,aAEI,MAFJA,aAEI,CADJC,aACI,MADJA,aACI,CACJ,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BT,qBAAqB,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,CACAN,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACAT,aAAa,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CAEA,GAAIF,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACzBJ,cAAc,CAAC,EAAD,CAAd,CACD,CACF,CARD,CAUA,GAAMK,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,CAAD,CAAO,CAC3BA,CAAC,CAACK,cAAF,GACA,GAAIC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAZ,CACAF,KAAK,CAAC,CAAD,CAAL,CAASJ,KAAT,CAAiB,EAAjB,CACA,GACER,aAAa,CAACe,IAAd,CACE,SAACC,KAAD,QACEA,CAAAA,KAAK,CAACC,aAAN,CAAoBC,QAApB,GAA+BC,WAA/B,KAAiDlB,KAAK,CAACkB,WAAN,EADnD,EADF,GAIAnB,aAAa,CAACe,IAAd,CACE,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACI,YAAN,CAAmBD,WAAnB,KAAqClB,KAAK,CAACkB,WAAN,EAAhD,EADF,CAJA,EAOAnB,aAAa,CAACe,IAAd,CACE,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACK,cAAN,CAAqBH,QAArB,KAAoCjB,KAAK,CAACiB,QAAN,EAA/C,EADF,CARF,CAWE,CACAd,cAAc,CAAC,EAAD,CAAd,CACAK,QAAQ,mBAAYX,UAAZ,EAAR,CACD,CAdD,IAcO,CACLM,cAAc,CACZ,+DADY,CAAd,CAGD,CACF,CAvBD,CAwBA,mBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,cAAM,EAAE,CAAC,aAAT,wBACE,cAAO,OAAO,CAAC,YAAf,iCADF,cAEE,cACE,QAAQ,CAAEC,YADZ,CAEE,EAAE,CAAC,YAFL,CAGE,SAAS,CAAC,OAHZ,CAIE,WAAW,CAAC,yCAJd,EAFF,cAQE,eAAQ,OAAO,CAAEK,aAAjB,CAAgC,SAAS,CAAC,mBAA1C,oBARF,cAWE,UAAG,SAAS,CAAC,cAAb,UAA6BP,WAA7B,EAXF,GADF,EADF,CAiBD,CA7DD,CA+DA,cAAeP,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst SearchForm = ({\n  setCurrentSearchValue,\n  searchName,\n  setSearchName,\n  averagesArray\n}) => {\n  const [query, setQuery] = useState(\"\");\n  const [searchFound, setSearchFound] = useState(\"\");\n\n  const queryHandler = (e) => {\n    setCurrentSearchValue(e.target.value);\n    setQuery(e.target.value);\n    setSearchName(e.target.value);\n\n    if (e.target.value === \"\") {\n      setSearchFound(\"\");\n    }\n  };\n\n  const navigate = useNavigate();\n  const searchHandler = (e) => {\n    e.preventDefault();\n    let input = document.getElementById(\"search-form\");\n    input[0].value = \"\";\n    if (\n      averagesArray.some(\n        (entry) =>\n          entry.average_title.toString().toLowerCase() === query.toLowerCase()\n      ) ||\n      averagesArray.some(\n        (entry) => entry.average_name.toLowerCase() === query.toLowerCase()\n      ) ||\n      averagesArray.some(\n        (entry) => entry.average_number.toString() === query.toString()\n      )\n    ) {\n      setSearchFound(\"\");\n      navigate(`/search/${searchName}`);\n    } else {\n      setSearchFound(\n        \"Sorry, course not found. Add a course by submitting a review.\"\n      );\n    }\n  };\n  return (\n    <div className=\"dashboard-search\">\n      <form id=\"search-form\">\n        <label htmlFor=\"search-bar\">Search for a course</label>\n        <input\n          onChange={queryHandler}\n          id=\"search-bar\"\n          className=\"input\"\n          placeholder='e.g. \"MACM 201\", \"MACM\", or \"201\"'\n        ></input>\n        <button onClick={searchHandler} className=\"search-button btn\">\n          Search\n        </button>\n        <p className=\"search-error\">{searchFound}</p>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}